package test.liuzehua.securitydemo.service;import lombok.extern.slf4j.Slf4j;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.security.core.userdetails.UserDetails;import org.springframework.security.core.userdetails.UserDetailsService;import org.springframework.security.core.userdetails.UsernameNotFoundException;import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;import org.springframework.stereotype.Service;import test.liuzehua.securitydemo.model.User;import java.util.Arrays;/** * @author liuzehua * 2020/5/20 **/@Service@Slf4jpublic class UserService implements UserDetailsService {//    @Autowired//    private BCryptPasswordEncoder bcryptPasswordEncoder;    @Override    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {        UserDetails user = findUserByName(username);        log.debug(">>>>>>>>>>>>>>>>>>>  UserService verify user info ");        if (user == null) throw new UsernameNotFoundException("用户不存在  username not found");        return user;    }    public User findUserByName(String name){//        bcryptPasswordEncoder.encode("1234")        return new User().setUsername(name).setPassword("1234").setId(1)                .setRoles(Arrays.asList("ROLE_USER"));    }}